<!DOCTYPE html>
<head>
<title>Zeppelin player</title>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" sizes="16x16 32x32 48x48 96x96" href="/favico.ico" />
<script type="text/javascript" src="/js/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="/js/jquery-ui-1.10.3.custom.min.js"></script>
<script type="text/javascript" src="/js/jquery.mCustomScrollbar.concat.min.js"></script>
<script type="text/javascript" src="/js/jquery.cookie.js"></script>
<script type="text/javascript" src="/js/jquery.tipsy.js"></script>
<script type="text/javascript" src="/js/tools.js"></script>
<script type="text/javascript" src="/js/html.js"></script>
<script type="text/javascript" src="/js/bricks.js"></script>
<script type="text/javascript" src="/js/graphics.js"></script>
<script type="text/javascript" src="/js/clButton.js"></script>
<script type="text/javascript" src="/js/clMenu.js"></script>
<script type="text/javascript" src="/js/clDialog.js"></script>
<script type="text/javascript" src="/js/buttons.js"></script>
<script type="text/javascript" src="/js/modules.js"></script>
<script type="text/javascript" src="/js/widgets.js"></script>
<script type="text/javascript" src="/js/layouts.js"></script>
<script type="text/javascript" src="/js/zeppelin.js"></script>
<script type="text/javascript" src="/js/config.js"></script>
<script type="text/javascript" src="/config.json"></script>
<link rel="stylesheet" type="text/css" href="/css/dark-hive/jquery-ui-1.10.3.custom.min.css">
<link rel="stylesheet" type="text/css" href="/css/jquery.mCustomScrollbar.css">
<link rel="stylesheet" type="text/css" href="/css/tipsy.css">
<link rel="stylesheet" type="text/css" href="/css/tools.css">
<link rel="stylesheet" type="text/css" href="/css/bricks.css">
<link rel="stylesheet" type="text/css" href="/css/zeppelin.css">
<link rel="stylesheet" type="text/css" href="/css/dark.css">
<link rel="stylesheet" type="text/css" href="/css/clButton-3d.css">
<link rel="stylesheet" type="text/css" href="/css/clMenu-3d.css">
<link rel="stylesheet" type="text/css" href="/css/clDialog-3d.css">
<script type="text/javascript">

var g_env = {};

var g_descriptors = {
	sortMethods: {
		number: intcmp,
		string: strcmp
	},
}

function createEnviroment()
{
	g_env = {
		getCodec: function(p_type) {
			return {title: p_type.toUpperCase()};
		},
		rpc: {
			request: new RPC({host: g_config.rpc.url}),
		},
		data: {
			mgr: new EventManager(),
			request: function(p_command, p_params) {
				g_env.eventMgr.notify('send_'+p_command, p_params);
				g_env.rpc.request.send(p_command, p_params, function(res) {
					g_env.data.mgr.notify(p_command, res);
				});
			}
		},
		eventMgr: new EventManager(),
		storage: {
			queue: {
				file: {},
				album: {},
				playlist: {},
				dir: {}
			},
			library: {
				file: {},
				album: {},
				artist: {}
			}
		},
		clearTipsy: function() {

		}
	}
}

function start_engine()
{
	clDialogGlobalIcon = '/favico.ico';

	try {
		parseConfig();
	} catch (ex) {
		clMessageBox(ex, 'Failed to load the config');
		return;
	}

	createEnviroment();

	new ZeppelinClient();
}

</script>
</head>
<body onload="start_engine()">
</body>
</html>
<!-- The answer to Life, the Universe, and Everything: 42 -->